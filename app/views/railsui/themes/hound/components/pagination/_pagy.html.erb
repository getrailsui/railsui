<div id="pagination-pagy">
<%= render layout: example, locals: { heading: "Pagy gem", section: "Pagination" } do %>

  <div class="prose prose-slate dark:prose-invert my-6">
    <p><%= link_to "Pagy", "https://github.com/ddnexus/pagy", target: :_blank %> is a popular pagination solution for Ruby/Rails developers. This implementation uses Pagy's default <code>pagy_nav</code> helper with custom CSS styling to match the Rails UI design system.</p>

    <p>To use this design, include the CSS styles in your stylesheet and use the simple ERB snippet below. The <code>@pagy</code> instance variable should be passed to your view from the controller.</p>
    
    <p>The CSS overrides Pagy's default styling using Tailwind's <code>@apply</code> directive to apply Rails UI classes while maintaining all of Pagy's built-in functionality.</p>
  </div>

<%= render preview 'gray' do %>
<nav aria-label="pager" class="text-slate-500 sm:text-sm text-base font-medium dark:text-slate-300" role="navigation">
  <div class="flex flex-wrap items-center sm:justify-between justify-center">
    <span class="sm:flex-1 flex justify-start items-center sm:w-auto w-full">
      <span class="flex justify-center items-center gap-2 py-2 px-4 rounded sm:w-auto w-full sm:bg-transparent sm:mb-0 mb-3 pointer-events-none select-none opacity-40 dark:opacity-60">&lsaquo; Prev</span>
    </span>

    <span class="py-2 px-4 border-t-2 border-transparent block border-primary-500 hover:bg-primary-50/50 text-primary-600 dark:hover:bg-primary-600 dark:hover:text-white dark:hover:border-primary-600 dark:text-primary-400 rounded">1</span>
    <span>
      <a data-controller="railsui-prevent" data-action="click->railsui-prevent#prevent" class="py-2 px-4 block border-t-2 border-transparent rounded hover:bg-slate-50/50 dark:hover:bg-slate-500/30 dark:hover:text-slate-200" href="#" rel="next">2</a>
  </span>
  <span>
    <a data-controller="railsui-prevent" data-action="click->railsui-prevent#prevent" class="py-2 px-4 block border-t-2 border-transparent rounded hover:bg-slate-50/50 dark:hover:bg-slate-500/30 dark:hover:text-slate-200" href="#">3</a>
  </span>
  <span>
    <a data-controller="vprevent" data-action="click->railsui-prevent#prevent" class="py-2 px-4 block border-t-2 border-transparent rounded hover:bg-slate-50/50 dark:hover:bg-slate-500/30 dark:hover:text-slate-200" href="#">4</a>
  </span>
  <span>
    <a data-controller="railsui-prevent" data-action="click->railsui-prevent#prevent" class="py-2 px-4 block border-t-2 border-transparent rounded hover:bg-slate-50/50 dark:hover:bg-slate-500/30 dark:hover:text-slate-200" href="#">5</a>
  </span>
  <span class="py-2 px-4 block border-t-2 border-transparent rounded pointer-events-none select-none">â€¦</span>
  <span><a data-controller="railsui-prevent" data-action="click->railsui-prevent#prevent" class="py-2 px-4 block border-t-2 border-transparent rounded hover:bg-slate-50/50 dark:hover:bg-slate-500/30 dark:hover:text-slate-200" href="#">14</a></span>
  <span class="sm:flex-1 flex justify-end items-center sm:w-auto w-full">
    <a data-controller="railsui-prevent" data-action="click->railsui-prevent#prevent" class="flex justify-center items-center gap-2 py-2 px-4 rounded hover:bg-slate-50/50 group hover:text-primary-600 sm:w-auto w-full sm:bg-transparent bg-slate-50 sm:mt-0 mt-3 dark:hover:bg-primary-600 dark:hover:text-white dark:bg-primary-600 dark:text-white" href="#" rel="next" aria-label="next"> Next &rsaquo;</a>
  </span>
</nav>
<% end %>

<% content_for :example, flush: true do %>
<% content_for :html, flush: true do %>

<% end %>

<% content_for :erb, flush: true do %>
<%%== pagy_nav(pagy) %>
<% end %>

<% content_for :css, flush: true do %>
/* Custom Pagy Styles - Override defaults with hound theme design */
.pagy nav {
  @apply text-slate-500 text-sm font-medium dark:text-slate-300;
}

.pagy nav > div {
  @apply flex flex-wrap items-center justify-between;
}

/* Previous/Next buttons */
.pagy nav > div > span:first-child,
.pagy nav > div > span:last-child {
  @apply flex-1 flex justify-start items-center w-auto;
}

.pagy nav > div > span:last-child {
  @apply justify-end;
}

.pagy nav a[aria-label*="prev"],
.pagy nav a[aria-label*="next"] {
  @apply flex justify-center items-center gap-2 py-2 px-4 rounded hover:bg-slate-50/50 group hover:text-primary-600 w-auto bg-transparent mb-0 mt-0 dark:hover:bg-primary-600 dark:hover:text-white dark:bg-primary-600 dark:text-white;
}

.pagy nav span:disabled {
  @apply opacity-40 dark:opacity-60 flex justify-center items-center gap-2 py-2 px-4 rounded w-auto bg-transparent mb-0 mt-0 pointer-events-none select-none;
}

/* Page number links */
.pagy nav a:not([aria-label]) {
  @apply py-2 px-4 block border-t-2 border-transparent rounded hover:bg-slate-50/50 dark:hover:bg-slate-500/30 dark:hover:text-slate-200;
}

.pagy nav a.current {
  @apply py-2 px-4 border-t-2 border-transparent block border-primary-500 hover:bg-primary-50/50 text-primary-600 dark:hover:bg-primary-600 dark:hover:text-white dark:hover:border-primary-600 dark:text-primary-400;
}

.pagy nav span.gap {
  @apply py-2 px-4 block border-t-2 border-transparent rounded pointer-events-none select-none;
}
<% end %>

<%= render_snippet active_tab: "css" %>
<% end %>
<% end %>
</div>
