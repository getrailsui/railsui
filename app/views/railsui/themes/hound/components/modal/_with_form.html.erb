<div id="modal-with-form">
  <%= render layout: example, locals: { heading: "With form", section: "Modal" } do %>

    <div class="bg-black/80 flex items-center jusity-center p-10 rounded-t-lg dark:bg-slate-800 dark:border-t dark:border-x dark:border-slate-600">
      <div class="rounded shadow-xl mx-auto max-w-lg bg-white m-1 p-8 origin-bottom relative dark:bg-slate-700 dark:text-slate-200">
        <button type="button" class="absolute top-2 right-2 w-8 h-8 bg-transparent hover:bg-slate-50 flex items-center justify-center rounded-full group dark:hover:bg-slate-50/50">
          <%= icon "x-mark", class:  "text-slate-400 size-6 group-hover:text-slate-500 pointer-events-none dark:group-hover:text-slate-800 dark:text-slate-400" %>
        </button>

        <h3 id="modal-with-form" class="mb-3 text-2xl font-extrabold text-slate-900 dark:text-slate-100 tracking-tight">Subscribe</h3>
        <div class="prose prose-slate dark:prose-invert mt-2 mb-6">
          <p>Join our community to get early access to new features, exclusive content, and connect with other developers.</p>
        </div>

        <%= form_with(url: "#", builder: Railsui::FormBuilder) do |form| %>
          <%= form.email_field :email, label: "E-mail", placeholder: "saasquatch@railsui.com" %>
          <%= form.text_area :reason, label: "Reason for joining", placeholder: "In a couple sentences let us know your reason for joining the Rails UI community" %>
        <% end %>

        <div class="mt-8 flex justify-start items-center flex-wrap bg-gray-50 px-8 py-4 -mx-8 -mb-8 border-t border-slate-300 rounded-b shadow-inner space-x-4 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600/70">
          <button class="btn btn-primary">Subscribe</button>
          <button class="btn btn-white">Cancel</button>
        </div>
      </div>
    </div>

    <div data-controller="railsui-modal">
      <div class="flex justify-center p-6 border-x border-b border-slate-200 rounded-b-lg relative dark:bg-slate-700 dark:border-slate-600 dark:border-t">
        <div class="absolute top-4 left-4">
          <%= doc_label :demo %>
        </div>
        <button type="button" data-action="click->railsui-modal#open" data-railsui-modal-target-param="form-modal" class="btn btn-primary" tabindex="0">
          Open modal with form
        </button>
      </div>

      <%= rui :modal, id: "form-modal", title: "Subscribe" do |modal| %>
        <% modal.with_header do %>
          <h3 id="modal-with-form" class="mb-3 text-2xl font-extrabold text-slate-900 dark:text-slate-100 tracking-tight">Subscribe</h3>
          <div class="prose prose-slate dark:prose-invert mt-2 mb-6">
            <p>Join our community to get early access to new features, exclusive content, and connect with other developers.</p>
          </div>
        <% end %>

        <%= form_with(url: "#", builder: Railsui::FormBuilder) do |form| %>
          <%= form.email_field :email, label: "E-mail", placeholder: "saasquatch@railsui.com" %>
          <%= form.text_area :reason, label: "Reason for joining", placeholder: "In a couple sentences let us know your reason for joining the Rails UI community" %>
        <% end %>

        <% modal.with_footer do %>
          <div class="mt-8 flex justify-start items-center flex-wrap bg-gray-50 px-8 py-4 -mx-8 -mb-8 border-t border-slate-300 rounded-b shadow-inner space-x-4 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600/70">
            <button class="btn btn-primary">Subscribe</button>
            <button class="btn btn-white" data-action="click->railsui-modal#close">Cancel</button>
          </div>
        <% end %>
      <% end %>
    </div>

<% content_for :example, flush: true do %>
<% content_for :html, flush: true do %>
<div data-controller="railsui-modal">
  <button type="button" data-action="click->railsui-modal#open" data-railsui-modal-target-param="form-modal" class="btn btn-primary" tabindex="0">
    Open modal with form
  </button>

  <%%= rui :modal, id: "form-modal", title: "Subscribe" do |modal| %>
    <%% modal.with_header do %>
      <h3 id="modal-with-form" class="mb-3 text-2xl font-extrabold text-slate-900 dark:text-slate-100 tracking-tight">Subscribe</h3>
      <div class="prose prose-slate dark:prose-invert mt-2 mb-6">
        <p>Join our community to get early access to new features, exclusive content, and connect with other developers.</p>
      </div>
    <%% end %>

    <%%= form_with(url: "#", builder: Railsui::FormBuilder) do |form| %>
      <%%= form.email_field :email, label: "E-mail", placeholder: "saasquatch@railsui.com" %>
      <%%= form.text_area :reason, label: "Reason for joining", placeholder: "In a couple sentences let us know your reason for joining the Rails UI community" %>
    <%% end %>

    <%% modal.with_footer do %>
      <div class="mt-8 flex justify-start items-center flex-wrap bg-gray-50 px-8 py-4 -mx-8 -mb-8 border-t border-slate-300 rounded-b shadow-inner space-x-4 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600/70">
        <button class="btn btn-primary">Subscribe</button>
        <button class="btn btn-white" data-action="click->railsui-modal#close">Cancel</button>
      </div>
    <%% end %>
  <%% end %>
</div>
<% end %>


<% content_for :js, flush: true do %>
import { RailsuiModal } from 'railsui-stimulus'

application.register('railsui-modal', RailsuiModal)
<% end %>

<%= render_snippet(js_filename: "index.js") %>
<% end %>
<% end %>
</div>
