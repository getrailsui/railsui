<div id="modal-base">
<%= render layout: example, locals: { heading: "Base", section: "Modal" } do %>

<div class="bg-black/80 dark:bg-zinc-900 flex items-center jusity-center p-10 rounded-t-lg  dark:border-t dark:border-x dark:border-zinc-600">
  <div class="rounded-xl shadow-xl max-w-lg bg-white m-1 p-8 prose prose-zinc prose-headings:font-heading prose-headings:font-semibold prose-headings:tracking-tight origin-bottom mx-auto dark:prose-invert dark:bg-zinc-800 dark:text-zinc-100">
    <h2 id="modal-title" class="font-heading">Modal Title</h2>
    <p>Oops! We've run out of lorem ipsum. Time to launch some real words into this space-time continuum!</p>

    <div class="flex justify-end items-center flex-wrap space-x-4">
      <button class="btn btn-primary" data-action="click->railsui-modal#close">Continue</button>
    </div>
  </div>
</div>

<div data-controller="railsui-modal">
  <div class="flex justify-center p-6 border-x border-b border-zinc-200 rounded-b-lg relative dark:bg-zinc-700 dark:border-zinc-600 dark:border-t">
    <div class="absolute top-4 left-4">
      <%= doc_label :demo %>
    </div>
    <button type="button" data-action="click->railsui-modal#open" class="btn btn-primary" tabindex="0">
      Open modal
    </button>
  </div>

  <div
    aria-labelledby="modal-title"
    aria-modal="true"
    data-railsui-modal-target="container"
    data-action="keyup@window->railsui-modal#closeWithEsc"
    class="hidden fixed inset-0 z-50 overflow-y-auto"
    role="dialog"
    >
    <div class="h-screen w-full relative flex items-center justify-center">
      <div
      data-railsui-modal-target="content"
      data-transition-enter-active="transition ease-out duration-300"
      data-transition-enter-from="transform opacity-0 scale-95"
      data-transition-enter-to="transform opacity-100 scale-100"
      data-transition-leave-active="transition ease-in duration-300"
      data-transition-leave-from="transform opacity-100 scale-100"
      data-transition-leave-to="transform opacity-0 scale-95"
      class="rounded-xl shadow-xl max-w-lg bg-white m-1 p-8 prose prose-zinc prose-headings:font-heading prose-headings:font-semibold prose-headings:tracking-tight origin-bottom mx-auto dark:prose-invert dark:bg-zinc-800 dark:text-zinc-100">
        <h2 id="modal-title" class="font-heading">Modal Title</h2>

        <p>Oops! We've run out of lorem ipsum. Time to launch some real words into this space-time continuum!</p>

        <div class="flex justify-end items-center flex-wrap space-x-4">
          <button class="btn btn-primary" data-action="click->railsui-modal#close">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>

<% content_for :example, flush: true do %>
<% content_for :html, flush: true do %>
<div data-controller="railsui-modal">
  <button type="button" data-action="click->railsui-modal#open" class="btn btn-primary" tabindex="0">
    Open modal
  </button>

  <div
    aria-labelledby="modal-title"
    aria-modal="true"
    data-action="keyup@window->railsui-modal#closeWithEsc"
    data-railsui-modal-target="container"
    class="hidden fixed inset-0 z-50 overflow-y-auto"
    role="dialog"
    >
    <div class="h-screen w-full relative flex items-center justify-center">
      <div
      data-railsui-modal-target="content"
      data-transition-enter-active="transition ease-out duration-300"
      data-transition-enter-from="transform opacity-0 scale-95"
      data-transition-enter-to="transform opacity-100 scale-100"
      data-transition-leave-active="transition ease-in duration-300"
      data-transition-leave-from="transform opacity-100 scale-100"
      data-transition-leave-to="transform opacity-0 scale-95"
      class="rounded-xl shadow-xl max-w-lg bg-white m-1 p-8 prose prose-zinc prose-headings:font-heading prose-headings:font-semibold prose-headings:tracking-tight origin-bottom mx-auto dark:prose-invert dark:bg-zinc-800 dark:text-zinc-100">
        <h2 id="modal-title">Modal Title</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt, veritatis! Nulla, enim incidunt.</p>
        <div class="flex justify-end items-center flex-wrap space-x-4">
          <button class="btn btn-primary" data-action="click->railsui-modal#close">Close</button>
        </div>
      </div>
    </div>
  </div>
</div>
<% end %>


<% content_for :erb, flush: true do %>
<div data-controller="railsui-modal">
  <%%= button_tag "Open modal", type: "button", class: "btn btn-primary", "tabindex": "0", data: { action: "click->railsui-modal#open" } %>

  <div
    aria-labelledby="modal-title"
    aria-modal="true"
    data-action="keyup@window->railsui-modal#closeWithEsc"
    data-railsui-modal-target="container"
    class="hidden fixed inset-0 z-50 overflow-y-auto"
    role="dialog"
    >
    <div class="h-screen w-full relative flex items-center justify-center">
      <div
      data-railsui-modal-target="content"
      data-transition-enter-active="transition ease-out duration-300"
      data-transition-enter-from="transform opacity-0 scale-95"
      data-transition-enter-to="transform opacity-100 scale-100"
      data-transition-leave-active="transition ease-in duration-300"
      data-transition-leave-from="transform opacity-100 scale-100"
      data-transition-leave-to="transform opacity-0 scale-95"
      class="rounded-xl shadow-xl max-w-lg bg-white m-1 p-8 prose prose-zinc prose-headings:font-heading prose-headings:font-semibold prose-headings:tracking-tight origin-bottom mx-auto dark:prose-invert dark:bg-zinc-800 dark:text-zinc-100">
        <h2 id="modal-title">Modal Title</h2>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt, veritatis! Nulla, enim incidunt.</p>
        <div class="flex justify-end items-center flex-wrap space-x-4">
          <%%= button_tag "Close", "#", data: { action: "click->railsui-modal#close" }, class: "btn btn-primary" %>
        </div>
      </div>
    </div>
  </div>
</div>
<% end %>

<% content_for :haml, flush: true do %>
%div{"data-controller" => "modal"}
  %button.btn.btn-primary{"data-action" => "click->railsui-modal#open", tabindex: "0", type: "button"}
    Open modal
  .hidden.fixed.inset-0.z-50.overflow-y-auto{"aria-labelledby" => "modal-title", "aria-modal" => "true", "data-action" => "keyup@window->railsui-modal#closeWithEsc", "data-railsui-modal-target" => "container", role: "dialog"}
    .h-screen.w-full.relative.flex.items-center.justify-center
      .rounded-xl.shadow-xl.max-w-lg.bg-white.m-1.p-8.prose.prose-zinc.prose-headings:font-heading.prose-headings:font-semibold.prose-headings:tracking-tight.origin-bottom.mx-auto.dark:prose-invert.dark:bg-zinc-800.dark:text-zinc-100{"data-railsui-modal-target" => "content", "data-transition-enter-active" => "transition ease-out duration-300", "data-transition-enter-from" => "transform opacity-0 scale-95", "data-transition-enter-to" => "transform opacity-100 scale-100", "data-transition-leave-active" => "transition ease-in duration-300", "data-transition-leave-from" => "transform opacity-100 scale-100", "data-transition-leave-to" => "transform opacity-0 scale-95"}
        %h2#modal-title Modal Title
        %p Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt, veritatis! Nulla, enim incidunt.
        .flex.justify-end.items-center.flex-wrap.space-x-4
          %button.btn.btn-primary{"data-action" => "click->railsui-modal#close"} Close
<% end %>

<% content_for :js, flush: true do %>
import { RailsuiModal } from 'railsui-stimulus'

application.register('railsui-modal', RailsuiModal)
<% end %>

<%= render_snippet(js_filename: "index.js") %>
<% end %>
<% end %>
</div>
