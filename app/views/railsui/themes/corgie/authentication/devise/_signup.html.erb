<%= render layout: example, locals: { heading: "Sign up", section: "Authentication" } do %>

<div class=" border border-neutral-200 rounded-3xl overflow-hidden dark:border-neutral-700">
  <div class="flex min-h-screen bg-white dark:bg-neutral-900">
    <%= render "rui/shared/flash" %>
    <div class="flex items-center justify-center w-full px-6 lg:w-5/12">
      <div class="w-full max-w-sm space-y-8">
        <div class="flex flex-col items-center justify-center gap-4">
          <%= link_to root_path, class: "flex items-center gap-2.5 shrink-0" do %>
            <!-- Corgie logo -->
            <%= icon "logo.svg", custom_path: "/railsui/logo.svg", class: "size-6 fill-current", variant: :solid %>

            <span class="h4 font-semibold">Corgie</span>
          <% end %>

          <% if content_for?(:title) %>
            <p class="text-neutral-500 dark:text-neutral-400">
              <%= yield :title %>
            </p>
          <% end %>
        </div>

        <%= render "rui/shared/common/social_auth_buttons" %>

        <!-- Email Form -->
        <form>
          <div class="form-group">
            <label for="email" class="form-label form-label-required">
              Email address
            </label>
            <input id="email" name="email" type="email" autocomplete="email" required class="form-input" placeholder="Enter your email">
          </div>

          <div class="form-group">
            <label for="password" class="form-label form-label-required">
              Password
            </label>
            <input id="password" name="password" type="password" autocomplete="new-password" required class="form-input" placeholder="Create a password">
            <p class="text-xs form-help">Must be at least 8 characters long</p>
          </div>

          <div class="flex items-center form-group">
            <input id="persist_login" name="persist_login" type="checkbox" class="form-input-checkbox">
            <label for="persist_login" class="ml-3 text-sm text-neutral-600 dark:text-neutral-400">
              Keep me signed in
            </label>
          </div>

          <button type="submit" class="w-full btn btn-lg btn-primary">
            Create account
          </button>
        </form>

        <!-- Sign in link -->
        <div class="text-center">
          <p class="text-sm text-neutral-600 dark:text-neutral-400">
            Already have an account?
            <%= link_to "Sign in", rui_signin_path, class: "font-medium underline text-neutral-900 dark:text-white hover:text-neutral-700 dark:hover:text-neutral-200" %>
          </p>
        </div>
      </div>
    </div>
    <div class="relative hidden overflow-hidden lg:flex lg:w-7/12 bg-neutral-950">
      <%= image_tag "railsui/auth-bg.jpg", alt: "Authentication visual with pulse animation", class: "absolute inset-0 object-cover w-full h-full opacity-20 animate-auth-ambient" %>
    </div>
  </div>
</div>

<% content_for :example, flush: true do %>

<% content_for :erb, flush: true do %>
  <!-- app/views/devise/registrations/new.html.erb-->
<%% content_for :title, "Sign up for your account" %>

<%%= form_for(resource, as: resource_name, url: registration_path(resource_name), builder: Railsui::FormBuilder) do |f| %>
  <%%= render "rui/shared/error_messages", resource: f.object %>

  <%%= f.form_group do %>
    <%%= f.email_field :email, label: "Email address", placeholder: "Enter your email", autocomplete: "email", required: true %>
  <%% end %>

  <%%= f.form_group do %>
    <%%= f.password_field :password, label: "Password", placeholder: "Create a password", autocomplete: "new-password", required: true %>
    <%% if @minimum_password_length
      <%%= f.form_help "Must be at least <%%= @minimum_password_length %> characters long" %>
    <%% end %>
  <%% end %>

  <%%= f.submit "Sign up", class: "w-full btn btn-lg btn-primary" %>
<%% end %>
<% end %>


<%= render_snippet active_tab: "erb", erb_filename: "new.html.erb" %>
<% end %>
<% end %>

<%= system_pagination(prev_path: systems_authentication_overview_path, prev_text: "Authentication", next_path: systems_authentication_devise_signin_path, next_text: "Sign in") %>
