<%= render layout: example, locals: { heading: "Edit account", section: "Authentication" } do %>

  <div class=" border border-neutral-200 rounded-3xl overflow-hidden dark:border-neutral-700">
    <div class="flex min-h-screen bg-white dark:bg-neutral-900">
      <%= render "rui/shared/flash" %>
      <div class="flex items-center justify-center w-full px-6 lg:w-5/12">
        <div class="w-full max-w-sm space-y-8">
          <div class="flex flex-col items-center justify-center gap-4">
            <%= link_to root_path, class: "flex items-center gap-2.5 shrink-0" do %>
              <!-- Corgie logo -->
              <%= icon "logo.svg", custom_path: "/railsui/logo.svg", class: "size-6 fill-current", variant: :solid %>

              <span class="h4 font-semibold">Corgie</span>
            <% end %>

            <% if content_for?(:title) %>
              <p class="text-neutral-500 dark:text-neutral-400">
                <%= yield :title %>
              </p>
            <% end %>
          </div>

          <%= form_with(url: "#", builder: Railsui::FormBuilder) do |f| %>

            <%= f.form_group do %>
              <%= f.email_field :email, label: "Email", placeholder: "Enter email", value: "john.doe@example.com" %>
            <% end %>

            <%= f.form_group do %>
              <%= f.password_field :password, label: "New password", placeholder: "Enter password", help: "Leave this blank if you don't want to change it." %>
            <% end %>

            <%= f.form_group do %>
              <%= f.password_field :password_confirmation, label: "Confirm password", placeholder: "Confirm password", help: "Your current password is required to update your account." %>
            <% end %>

            <%= f.form_group do %>
              <%= f.password_field :current_password, label: "Current password", placeholder: "Enter current password" %>
            <% end %>

            <%= f.submit "Update account", class: "w-full btn btn-lg btn-primary" %>
          <% end %>

          <hr class="my-6">

          <%= button_to "Delete account", "#", method: :delete, data: { confirm: "Are you sure you want to delete your account?" }, class: "btn btn-danger btn-lg w-full" %>
        </div>
      </div>
      <div class="relative hidden overflow-hidden lg:flex lg:w-7/12 bg-neutral-950">
        <%= image_tag "railsui/auth-bg.jpg", alt: "Authentication visual with pulse animation", class: "absolute inset-0 object-cover w-full h-full opacity-20 animate-auth-ambient" %>
      </div>
    </div>
  </div>


<% content_for :example, flush: true do %>
<% content_for :html, flush: true do %>

<% end %>

<% content_for :erb, flush: true do %>
<!-- app/views/devise/registrations/edit.html.erb -->
<%% content_for :title, "Edit account" %>

<%% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
  <div class="bg-neutral-50/90 text-neutral-700 border-l-4 border-neutral-700 py-4 pr-4 pl-6 text-sm dark:bg-neutral-50/10 dark:text-neutral-50 dark:border-neutral-400 mt-6">
    <p class="text-neutral-800 dark:text-neutral-400 ">Currently waiting on confirmation for: <span class="font-semibold"><%%= resource.unconfirmed_email %></span></p>
  </div>
<%% end %>

<%%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }, builder: Railsui::FormBuilder) do |f| %>
  <%%= f.form_group do %>
    <%%= f.email_field :email, label: "Email", placeholder: "Enter email", value: "john.doe@example.com" %>
  <%% end %>

  <%%= f.form_group do %>
    <%%= f.password_field :password, label: "New password", placeholder: "Enter password", help: "Leave this blank if you don't want to change it." %>
  <%% end %>

  <%%= f.form_group do %>
    <%%= f.password_field :password_confirmation, label: "Confirm password", placeholder: "Confirm password", help: "Your current password is required to update your account." %>
  <%% end %>

  <%%= f.form_group do %>
    <%%= f.password_field :current_password, label: "Current password", placeholder: "Enter current password" %>
  <%% end %>

  <%%= f.submit "Update account", class: "w-full btn btn-lg btn-primary" %>
<%% end %>

<hr class="my-6">

<%%= button_to "Delete account", registration_path(resource_name), method: :delete, data: { confirm: "Are you sure you want to delete your account?" }, class: "btn btn-danger btn-lg w-full" %>

<% end %>


<%= render_snippet active_tab: "erb", erb_filename: "edit.html.erb" %>

<% end %>
<% end %>

<%= system_pagination(prev_path: systems_authentication_devise_confirmation_path, prev_text: "Confirmation", next_path: systems_authentication_devise_unlocks_path, next_text: "Unlock") %>
