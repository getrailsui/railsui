<div id="pagination-pagy">
<%= render layout: example, locals: { heading: "Pagy gem", section: "Pagination" } do %>

  <div class="prose prose-slate dark:prose-invert my-6">
    <p><%= link_to "Pagy", "https://github.com/ddnexus/pagy", target: :_blank %> is a popular pagination solution for Ruby/Rails developers. This implementation uses Pagy's default <code>pagy_nav</code> helper with custom CSS styling to match the Rails UI button design system.</p>

    <p>To use this design, include the CSS styles in your stylesheet and use the simple ERB snippet below. The <code>@pagy</code> instance variable should be passed to your view from the controller.</p>

    <p>The CSS overrides Pagy's default styling using Tailwind's <code>@apply</code> directive to apply Rails UI button classes while maintaining all of Pagy's built-in functionality.</p>
  </div>

<%= render preview('neutral') do %>
  <div class="flex justify-center mt-16">
    <nav class="flex gap-2 items-center" aria-label="Pagination">
      <a href="#" class="btn btn-white size-10">
        <span class="sr-only">Previous</span>
        <%= icon "chevron-left", class: "size-5" %>
      </a>
      <a href="#" class="btn btn-primary dark:bg-black dark:shadow-sm size-10">1</a>
      <a href="#" class="btn btn-white size-10">2</a>
      <a href="#" class="btn btn-white size-10">3</a>
      <span class="btn btn-white size-10 pointer-events-none cursor-none">...</span>
      <a href="#" class="btn btn-white size-10">8</a>
      <a href="#" class="btn btn-white size-10">
        <span class="sr-only">Next</span>
        <%= icon "chevron-right", class: "size-5" %>
      </a>
    </nav>
  </div>
<% end %>

<% content_for :example, flush: true do %>
<% content_for :html, flush: true do %>

<% end %>

<% content_for :erb, flush: true do %>
<div class="flex justify-center mt-16">
  <%%== pagy_nav(pagy) %>
</div>
<% end %>

<% content_for :css, flush: true do %>
/* Custom Pagy Styles - Override defaults with button-style design */
.pagy nav {
  @apply flex gap-2 items-center;
}

.pagy nav a,
.pagy nav span {
  @apply btn btn-white size-10 justify-center items-center;
}

.pagy nav a.current {
  @apply btn-primary dark:bg-black dark:shadow-sm;
}

.pagy nav span.gap {
  @apply pointer-events-none cursor-none;
}

.pagy nav a:disabled,
.pagy nav span:disabled {
  @apply opacity-50 pointer-events-none cursor-not-allowed;
}

/* Hide default text content for prev/next, use icons instead */
.pagy nav a[aria-label*="prev"]::after {
  content: "‹";
  @apply text-lg font-bold;
}

.pagy nav a[aria-label*="next"]::after {
  content: "›";
  @apply text-lg font-bold;
}

.pagy nav a[aria-label*="prev"],
.pagy nav a[aria-label*="next"] {
  text-indent: -9999px;
  position: relative;
}

.pagy nav a[aria-label*="prev"]::after,
.pagy nav a[aria-label*="next"]::after {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-indent: 0;
}
<% end %>

<%= render_snippet active_tab: "css" %>
<% end %>
<% end %>
</div>
