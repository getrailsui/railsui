<div class="flex h-full" data-controller="sidebar">
  <%= render "rui/shared/sidebar" %>

  <div class="flex-1 flex flex-col relative z-10">
    <%= render "rui/shared/header", title: "Help & Support" %>

    <div class="flex-1 overflow-y-auto p-6">
      <div class="max-w-5xl mx-auto space-y-12 md:px-16 px-4">

        <div class="text-center py-8">
          <div class="max-w-3xl mx-auto">
            <h1 class="h1 mb-2">How can we help?</h1>
            <p class="text-lg text-neutral-600 dark:text-neutral-300 mb-8">Find answers, get support, or explore our features</p>

            <!-- Enhanced Search Box -->
            <div class="relative max-w-2xl mx-auto"
                 data-controller="help-search">
              <div class="relative group">
                <input type="search"
                  class="w-full py-4 pl-12 pr-6 text-lg border border-neutral-300/80 dark:border-neutral-700 rounded-2xl focus:border-neutral-500/25 focus:ring-4 focus:ring-neutral-100 dark:focus:ring-neutral-900/30 transition-all duration-200 bg-white dark:bg-neutral-800 shadow-sm hover:shadow-md"
                  placeholder="Search help articles, guides, and FAQs..."
                  data-help-search-target="input"
                  data-action="input->help-search#handleInput focus->help-search#handleFocus blur->help-search#handleBlur keydown->help-search#handleKeydown">

                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                  <%= icon "magnifying-glass", class: "size-6 text-neutral-400 group-focus-within:text-blue-500 transition-colors" %>
                </div>
                <div class="absolute inset-y-0 right-0 pr-4 flex items-center">
                  <kbd
                    class="px-2 py-1 text-xs bg-neutral-100 dark:bg-neutral-700 border border-neutral-300 dark:border-neutral-600 rounded font-mono">âŒ˜ + K</kbd>
                </div>
              </div>

              <!-- Search Results Dropdown -->
              <div
                class="absolute top-full left-0 right-0 mt-2 bg-white dark:bg-neutral-800 outline outline-neutral-300/80 dark:outline-neutral-700/90 rounded-xl overflow-hidden z-50 hidden shadow"
                data-help-search-target="results">
                <!-- Results will be populated here -->
              </div>
            </div>
          </div>
        </div>

        <%= render "rui/shared/help/quick_actions" %>
        <%= render "rui/shared/help/faq" %>
        <%= render "rui/shared/help/categories" %>

        <div class="py-12 border-t border-neutral-200 dark:border-neutral-700">
          <div class="text-center mb-8">
            <h2 class="h3 mb-3">Need Personal Assistance?</h2>
            <p class="text-neutral-600 dark:text-neutral-300 max-w-2xl mx-auto">Our support team is here to help you
              with any questions or issues you might have</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="card text-center hover:shadow-lg transition-all duration-200 hover:-translate-y-1">
              <div
                class="size-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4">
                  <%= icon "envelope", class: "size-8 text-blue-600 dark:text-blue-400" %>
              </div>
              <h3 class="h6 mb-2">Email Support</h3>
              <p class="text-sm text-neutral-600 dark:text-neutral-400 mb-4">Get detailed help via email<br>Response
                within 24 hours</p>
              <button class="btn btn-primary w-full">Send Email</button>
            </div>

            <div class="card text-center hover:shadow-lg transition-all duration-200 hover:-translate-y-1">
              <div
                class="size-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4">
                  <%= icon "chat-bubble-left-right", class: "size-8 text-green-600 dark:text-green-400" %>
              </div>
              <h3 class="h6 mb-2">Live Chat</h3>
              <p class="text-sm text-neutral-600 dark:text-neutral-400 mb-4">Chat with our team in
                real-time<br>Available 9 AM - 6 PM EST</p>
              <button class="btn btn-primary w-full">Start Chat</button>
            </div>

            <div class="card text-center hover:shadow-lg transition-all duration-200 hover:-translate-y-1">
              <div
                class="size-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mx-auto mb-4">
                <%= icon "book-open", class: "size-8 text-purple-600 dark:text-purple-400" %>
              </div>
              <h3 class="h6 mb-2">Documentation</h3>
              <p class="text-sm text-neutral-600 dark:text-neutral-400 mb-4">Comprehensive guides and API
                docs<br>Self-service resources</p>
              <button class="btn btn-primary w-full">Browse Docs</button>
            </div>
          </div>

          <!-- Contact Information -->
          <div
            class="bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 rounded-2xl p-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
              <div>
                <div
                  class="size-12 bg-white dark:bg-neutral-800 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm">
                    <%= icon "envelope", class: "size-6 text-indigo-600" %>
                </div>
                <h4 class="font-semibold mb-1">Email</h4>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">support@corgie.ai</p>
              </div>
              <div>
                <div
                  class="size-12 bg-white dark:bg-neutral-800 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm">
                  <%= icon "globe-americas", class: "size-6 text-indigo-600" %>
                </div>
                <h4 class="font-semibold mb-1">Website</h4>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">www.corgie.ai</p>
              </div>
              <div>
                <div
                  class="size-12 bg-white dark:bg-neutral-800 rounded-xl flex items-center justify-center mx-auto mb-3 shadow-sm">
                  <%= icon "clock", class: "size-6 text-indigo-600" %>
                </div>
                <h4 class="font-semibold mb-1">Support Hours</h4>
                <p class="text-sm text-neutral-600 dark:text-neutral-400">9 AM - 6 PM EST<br>Monday - Friday</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
